{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jeong-go-eun/Desktop/metagate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jeong-go-eun/Desktop/metagate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport web3 from './ethereum/web3';\n\nfunction timeConverter(UNIX_timestamp) {\n  var a = new Date(UNIX_timestamp);\n  var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  var year = a.getFullYear();\n  var month = months[a.getMonth()];\n  var date = a.getDate();\n  var time = year + ' / ' + month + ' / ' + date;\n  return time;\n}\n\nfunction convertHexToString(input) {\n  var hex = input.toString(); //force conversion\n\n  var str = '';\n\n  for (var i = 0; i < hex.length && hex.substr(i, 2) !== '00'; i += 2) {\n    str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\n  }\n\n  return str;\n}\n\nfunction sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n}\n\nfunction asyncForEach(_x, _x2) {\n  return _asyncForEach.apply(this, arguments);\n}\n\nfunction _asyncForEach() {\n  _asyncForEach = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(array, callback) {\n    var index;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            index = 0;\n\n          case 1:\n            if (!(index < array.length)) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 4;\n            return callback(array[index], index, array);\n\n          case 4:\n            index++;\n            _context.next = 1;\n            break;\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _asyncForEach.apply(this, arguments);\n}\n\nfunction refine(m) {\n  Object.keys(m).forEach(function (key) {\n    if (!isNaN(key)) return delete m[key];\n\n    switch (key) {\n      case 'title':\n        m[key] = convertHexToString(m[key]);\n        break;\n\n      case 'explanation':\n        m[key] = convertHexToString(m[key]);\n        break;\n\n      case 'reward':\n        m[key] = web3.utils.fromWei(m[key], 'ether') + 'META';\n        break;\n\n      case 'createdAt':\n        m[key] = timeConverter(Date(m[key]));\n        break;\n\n      default:\n        if (!m[key]) m[key] = '';\n        break;\n    }\n  });\n  return m;\n}\n\nvar encoder = new TextEncoder('utf-8');\n\nfunction isValidLength(str) {\n  return encoder.encode(str).length;\n}\n\nfunction localStorageSave(key, items) {\n  window.localStorage.setItem(key, items);\n}\n\nfunction locaslStorageLoad(key) {\n  return window.localStorage(key);\n}\n\nexport { timeConverter, sleep, convertHexToString, asyncForEach, refine, isValidLength, localStorageSave, locaslStorageLoad };","map":{"version":3,"sources":["/Users/jeong-go-eun/Desktop/metagate/src/util.js"],"names":["web3","timeConverter","UNIX_timestamp","a","Date","months","year","getFullYear","month","getMonth","date","getDate","time","convertHexToString","input","hex","toString","str","i","length","substr","String","fromCharCode","parseInt","sleep","ms","Promise","resolve","setTimeout","asyncForEach","array","callback","index","refine","m","Object","keys","forEach","key","isNaN","utils","fromWei","encoder","TextEncoder","isValidLength","encode","localStorageSave","items","window","localStorage","setItem","locaslStorageLoad"],"mappings":"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","sourcesContent":["import web3 from './ethereum/web3';\n\nfunction timeConverter(UNIX_timestamp) {\n    var a = new Date(UNIX_timestamp);\n    var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var time = year + ' / ' + month + ' / ' + date;\n    return time;\n}\n\nfunction convertHexToString(input) {\n    var hex = input.toString();//force conversion\n    var str = '';\n    for (var i = 0; (i < hex.length && hex.substr(i, 2) !== '00'); i += 2)\n        str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\n    return str;\n}\n\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nasync function asyncForEach(array, callback) {\n  for (let index = 0; index < array.length; index++) {\n    await callback(array[index], index, array);\n  }\n}\n\nfunction refine(m) {\n  Object.keys(m).forEach(key => {\n    if (! isNaN(key)) return delete m[key];\n    switch (key) {\n      case 'title': m[key] = convertHexToString(m[key]); break;\n      case 'explanation': m[key] = convertHexToString(m[key]); break;\n      case 'reward': m[key] = web3.utils.fromWei(m[key], 'ether') + 'META'; break;\n      case 'createdAt': m[key] = timeConverter(Date(m[key])); break;\n      default: if (! m[key]) m[key] = ''; break;\n    }\n  });\n  return m;\n}\n\nvar encoder = new TextEncoder('utf-8');\nfunction isValidLength(str) {\n  return encoder.encode(str).length;\n}\n\nfunction localStorageSave(key, items) {\n  window.localStorage.setItem(key, items);\n}\n\nfunction locaslStorageLoad(key) {\n  return window.localStorage(key);\n}\n\nexport {\n    timeConverter,\n    sleep,\n    convertHexToString,\n    asyncForEach,\n    refine,\n    isValidLength,\n    localStorageSave,\n    locaslStorageLoad,\n}"]},"metadata":{},"sourceType":"module"}